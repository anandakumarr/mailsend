#summary Frequently Asked Questions about mailsend
#labels Featured
#sidebar Toc
<wiki:toc />
=mailsend FAQ=
==Can an attachment be part of the mail body?==
It is probably the mostly asked question. mailsend supports attachments as inline with the option `-attach "file.txt,text/plain,i"`. Any decent mail reader (gmail does, !ThunderBird does) will display the attachment as a body of the mail but it is up to the mail reader to do so. mailsend can not do anything about it.

Microsoft Outlook does not support it by design. Please look at the Microsoft Knowledge base article [http://support.microsoft.com/kb/814111] for detail.
==How to find out the capabilities of a SMTP server?==
Type any of:
{{{
c:\> mailsend.exe -info -smtp localhost

[S] 220 t105 ESMTP Exim 4.76 Sun, 04 Mar 2012 14:13:24 -0500
[C] EHLO localhost
[S] 250-t105 Hello localhost [127.0.0.1]
[S] 250-SIZE 52428800
[S] 250-PIPELINING
[S] 250 HELP
[C] QUIT
[S] 221 t105 closing connection
}}}
{{{
c:\> mailsend.exe -info -port 587 -smtp smtp.gmail.com

smtp.gmail.com
SMTP server: smtp.gmail.com, Port: 587
[S] 220 mx.google.com ESMTP xxxxxxxxxxxxxxxx.8
[C] EHLO localhost
[S] 250-mx.google.com at your service, [x.x.x.x]
[S] 250-SIZE 35882577
[S] 250-8BITMIME
[S] 250-STARTTLS
[S] 250 ENHANCEDSTATUSCODES
[C] STARTTLS
[S] 220 2.0.0 Ready to start TLS
Cipher: ECDHE-RSA-RC4-SHA
Certificate information:
Subject: /C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com
Issuer: /C=US/O=Google Inc/CN=Google Internet Authority
[C] EHLO localhost
[S] 250-mx.google.com at your service, [x.x.x.x]
[S] 250-SIZE 35882577
[S] 250-8BITMIME
[S] 250-AUTH LOGIN PLAIN XOAUTH
[S] 250 ENHANCEDSTATUSCODES
[C] QUIT
[S] 221 2.0.0 closing connection xxxxxxxxxxxxxxxx.8
}}}
{{{
c:\> mailsend.exe -info -port 465 -ssl -smtp smtp.gmail.com

smtp smtp.gmail.com
SMTP server: smtp.gmail.com, Port: 465
Cipher: ECDHE-RSA-RC4-SHA
Certificate information:
Subject: /C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com
Issuer: /C=US/O=Google Inc/CN=Google Internet Authority
[S] 220 mx.google.com ESMTP xxxxxxxxxxxxxxxx.19
[C] EHLO localhost
[S] 250-mx.google.com at your service, [xxx.xxx.xxx.xxx]
[S] 250-SIZE 35882577
[S] 250-8BITMIME
[S] 250-AUTH LOGIN PLAIN XOAUTH
[S] 250 ENHANCEDSTATUSCODES
[C] QUIT
[S] 221 2.0.0 closing connection xxxxxxxxxxxxxxxx.19
}}}

==Does mailsend support IPv6?==
From v1.17b1, IPv6 is supported in all platforms. If you have IPv6 (native or through tunnel), mailsend will use IPv6 automatically. Or you can specify the IPv6 address of the SMTP server.
Example:

{{{
c:\> mailsend.exe -v -info -smtp smtp.gmail.com

Connecting to SMTP server: smtp.gmail.com at Port: 25
Connection timeout: 5 secs
libmsock: using getaddrinfo
 AF_INET6
 IPv6 address: [2607:f8b0:400c:c03::6c]:25 <-------
 EINPROGRESS=10036,EWOULDBLOCK=10035
 conenct(): socket=312,rc=-1, errno=10035
 Try socket 312
[S] 220 mx.google.com ESMTP q19sm8376288vdf.21
[C] EHLO localhost
[S] 250-mx.google.com at your service, [2001:xxx:xxxx:xxx::x]
[S] 250-SIZE 35882577
[S] 250-8BITMIME
[S] 250-STARTTLS
[S] 250 ENHANCEDSTATUSCODES
[C] STARTTLS
[S] 220 2.0.0 Ready to start TLS
Cipher: ECDHE-RSA-RC4-SHA
Certificate information:
Subject: /C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com
Issuer: /C=US/O=Google Inc/CN=Google Internet Authority
[C] EHLO localhost
[S] 250-mx.google.com at your service, [2001:xxx:xxxx:xxx::x]
[S] 250-SIZE 35882577
[S] 250-8BITMIME
[S] 250-AUTH LOGIN PLAIN XOAUTH
[S] 250 ENHANCEDSTATUSCODES
[C] QUIT
}}}
==How to send mail via gmail?==

Ans: Please look at the [examples Examples] section. Look for -ssl and -starttls and -port.
==Can this program be used as a mail sender from web browsers?==
Yes. I'll use the Firefox as an example as I use it. By default on windows Firefox will start outlook express (or nothing) to send mail when you click on a mailto: link. This behavior can be changed as follows:

Go to Control Panel
Click on Folder Options
Click on File Types tab
Click on [NONE] URL:MailTo Protocol
Click on Advanced button
Click on open then Click on Edit... button
Uncheck Use DDE
In the Application used to perform action field, add the line (without line breaks):

 "C:\path\of\mailsend.exe" -smtp IP_address_of_your_smtp_server
   -v -d your_domain.com
   -f you@your_domain.com +cc +bc -v -w -t "%1"

Note: there's no need to clean mailto: tag from another program before calling mailsend.

On Unix, search on the web on how to setup external mail sender for Firefox. Again there's no need to remove mailto: tag from another script.

==Does the program support ESMTP authentication?==
From v1.15a+, STARTTLS, CRAM-MD5, LOGIN and PLAIN authentication is supported. SMTP over SSL is also supported in v 1.16+. Type mailsend -ex for examples on how to use authentication.
==What's the difference between -ssl and -starttls?==
With option -ssl, an encrypted connection is made first and then SMTP protocol continues over the encrypted connection. For example, smtp.gmail.com supports it at port 465. With -starttls, a regular unencrypted connection is made first, then if the server supports STRTTLS, the command is issued to make the connection encrypted. For example smtp. gmail.com supports STARTTLS at port 587.
==How to send mail to multiple people?==
Create a text file containing the addresses and then specify the file with -l. The syntax of the file is as follows:
{{{
#####################################################
# File can contain addresses to send mail to.
# A line can start with To: email_address,
# Cc: email_address, BCc: email_address or
# just a valid email address.
# Any line that starts with a # or ; is considered a comment
# and is ignored.

#user@example.com
To: blah@example.com
Cc: foo@example.com
jdoe@example.com
mjane@example.com
bar@example.com
#####################################################
}}}
Make sure there is a new line at the end of the last line or the last address will be ignored. Run mailsend with -v to verify that all the addresses are used.

==Does mailsend verify certificates while making SSL connections?==
No.



==I send mail but the mail never reaches the destination. What's wrong?==
   * First of all make sure you can talk to the SMTP server (FAQ#1).
   * Make sure the mail is accepted by the server (run mailsend with -v).
   * Make sure that the SMTP server relays message to outside domain or only accepts mail from certain IP addresses (Talk to the admin).
   * It is also possible the server requires authentication. Type mailsend -ex for examples on how to use authentication. 
==What are the valid MIME types?==
Please look at [mimetypes MIME Types]